### 교착 상태
- 2개 이상의 프로세스가 다른 프로세스의 작업이 끝나기만 기다리며 작업을 더 이상 진행하지 못하는 상태

### 교착 상태 필요 조건
- 아래 네 가지 조건을 모두 만족시켜야만 데드락이 발생한다.
- 상호 배제: 한 프로세스가 사용하는 자원은 다른 프로세스와 공유가 불가능한 배타적인 자원
- 비선점: 한 프로세스가 사용 중인 자원은 중간에 다른 프로세스가 빼앗을 수 없는 비선점 자원이어야 한다.
- 점유와 대기: 프로세스가 어떤 자원을 할당받은 상태에서 다른 자원을 기다리는 상태여야 한다.
- 원형 대기: 점유와 대기를 하는 프로세스 간의 관계가 원을 이루어야 한다.

### 교착 상태 해결 방법
- 예방: 네 가지 필요 조건 중 하나라도 막는 것. 그러나 실효성이 낮아서 잘 사용되지 않는다.
- 회피: 교착 상태 유발 가능성이 있다고 판단되면 자원 할당을 중단하고 지켜본다. 그러나 실효성이 적다.
- 검출 및 회복: 자원 할당 그래프를 모니터링 하면서 교착 상태를 확인, 교착이 발생하면 회복을 진행, 현실적

### 교착 상태 예방
- 상호 배제 예방: 애동초 독점적으로 사용할 수 있는 자원을 없애버리는 것, 비현실적
- 비선점 예방: 한 프로세스가 점유하는 자원을 다른 프로세스가 뺏을 수 있도록 함. 비현실적
- 점유와 대기 예방: 전부 할당하거나, 아예 할당하지 않는 방식의 적용. 
  - 프로세스가 자신이 사용하는 모든 자원을 자세히 알기 어렵다.
  - 자원의 활용성이 떨어지는 문제가 있다. 
  - 많은 자원을 사용하는 프로세스가 적은 자원을 사용하는 프로세스보다 불리하다.
  - 결국 일괄 작업 방식으로 동작한다.
- 원형 대기 예방: 쟈원을 한 방향으로만 사용하도록 설정하여 예방
  - 프로세스 작업 진행에 유연성이 떨어진다.
  - 자원의 번호를 어떻게 부여할 것인지가 문제다.

### 교착 상태 회피
- 자원 할당 시에 수준 이상의 자원을 나누어주면 교착 상태가 발생하는지 파악하여 그 수준 이하로 자원을 나눠주는 방법
- 할당된 자원의 수를 기주능로 시스템을 안정 상태와 불안정 상태로 나누고 안정 상태를 유지하도록 자원을 할당한다.
- 교착 상태는 불안정 상태의 일부분으로 불안정 상태가 커질 수록 교착 상태가 발생할 가능성이 커진다.
- 그러므로 한정된 범위 내에서 자원을 할당함으로써 교착 상태를 피한다.
- 단점
  - 프로세스가 자신이 사용할 모든 자원을 미리 선언해야함
  - 시스템 전체 자원 수가 고정적이어야함
  - 자원이 낭비됨

### 교착 상태 검출 및 회복
- 타임아웃: 일정 시간동안 작업이 진행되지 않은 프로세스를 교착 상태가 발생한 것으로 간주
  - 엉뚱한 프로세스가 강제 종료될 수 있다.
  - 모든 시스템에 적용할 수 없다.
- 자원 할당 그래프: 시스템 내의 프로세스가 어떤 자원을 사용 혹은 기다리는 지를 파악, 사이클이 존재하면 교착 상태
  - 프로세스의 작업 방식을 제한하지 않으면서 교착 상태를 정확하게 파악할 ㅅ ㅜ있다는 것이 장점
  - 자원 할당 그래프를 유지, 갱신, 사이클 검사 등의 오버헤드 발생
- 회복 방법
  - 교착 상태를 일으킨 모든 프로세스를 동시에 종료
  - 교착 상태를 일으킨 프로세스 중 하나를 골라 순서대로 종료
  - 종료 전에는 체크포인트를 만들어서 다시 복구해주어야 한다.  
