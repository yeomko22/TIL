### 프로세스 간 통신 (IPC)
- 프로세스 내부 통신: 프로세스 내부 쓰레드들은 전역 변수나 파일을 통해서 데이터를 주고 받음
- 프로세스 간 통신: 여러 프로세스끼리 통신하는 경우, 공용 파일 또는 운영체제 파이프라인으로 통신
- 네트워크 이용 통신: 여러 컴퓨터가 네트워크로 연결되어 있을 때 가능한 통신

### 프로세스 간 통신 관련 용어
- busy waiting: 상태 변화를 살펴보기 위해 반복문을 무한 실행하며 기다리는 것
- synchonization: busy waiting 문제를 피하기 위해서 데이터가 도착했음을 알려주는 것. 메신저에서 메시지가 도착했다고 알려주는 알림이 대표적인 예시
- 동기화 기능이 있는지 없는지에 따라서 blocking communication과 non-blocking communication이 구분.
- 대기가 있으면 synchronous communication이라 부르고 대기가 없으면 asynchronous communication이라 부른다.
- 대기가 있는 통신: 동기화를 지원, 데이터를 받는 쪽은 데이터가 도착할 때까지 자동으로 대기
- 대기가 없는 통신: 동기화 지원 안함, 데이터 받는 쪽에서 busy waiting 사용
- 전역 변수와 파일을 이용한 통신이 대기가 없는 통신의 대표적인 사례

### 프로세스 간 통신의 종류
- 전역 변수를 이용한 통신
- 파일을 이용한 통신
- 파이프를 이용한 통신
- 소켓을 이용한 통신

### 공유자원의 접근
- 공유 자원: 여러 프로세스가 공동으로 이용하는 변수, 메모리, 파일
- race condition: 공유 자원에 병행적으로 읽거나 쓰는 상황, 공유 자원에 접근하는 순서에 따라서 실행 결과가 달라질 수 있다.
- critical section: 공유 자원의 접근 순서에 따라 실행 결과가 달라지는 프로그램의 영역
- 어떤 프로세스가 critical section에 진입했다면 다른 프로세스들은 critical section 밖에서 기다려야 함

### critical section 해결 조건
- mutual exclusion: 임계 구역에 진입하는 프로세스는 하나여야 한다.
- bounded waiting: 어떤 프로세스도 임계 구역에 진입하기 위해 무한히 대기해서는 안된다.
- progress flesibility: 한 프로세스가 다른 프로세스의 진행을 방해해서는 안된다.

### Semaphore
- 임계 구역 진입 전에 스위치를 사용 중으로 놓고 임계구역으로 들어간다.
- 이후에 도착하는 프로세스들은 앞의 프로세스가 작업을 마칠 때까지 기다린다.
- 프로세스가 작업을 마치면 세마포어는 다음 프로세스에게 임계구역을 사용하라는 동기화 신호를 보낸다.

### Semaphore 작동 방식
- 사용 가능한 공유 자원의 수를 n으로 놓고, 프로세스가 임계 구역에 진입 시에 이를 1씩 줄여준다.
- 만일 n이 0이라면 0보다 커질 때까지 대기한다.
- 임계 구역을 빠져나오는 프로세스는 n값을 1 증가시켜주며, 다른 대기중인 프로세스에게 wake up 신호를 준다.
- 그 결과로 busy waiting 하는 프로세스는 없다.

### 모니터
- Semaphore의 단점은 임계 구역이 보호받지 못한다는 것
- 사용자가 고의고 세마포어를 사용하지 않거나, 실수를 할 경우 발생
- 공유 자원 사용 시에 굳이 세마포어를 사용하지 않더라도 자동으로 구현할 수 있는 것이 모니터
- 공유 자원을 내부적으로 숨기고, 여기에 접근하기 위한 인터페이스만 제공함으로써 자원을 보호하고 프로세스 간에 동기화 시킨다.
