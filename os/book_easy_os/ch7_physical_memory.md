### 메모리 관리 개요
- 메모리 관리의 복잡성
  - CPU는 메모리에 있는 내용을 가져오거나 작업 결과를 메모리에 저장하기 위해 메모리 주소 레지스터를 사용(MAR)
  - MAR에 메모리 주소값을 넣으면 데이터를 메모리에서 가져오거나 메모리에 데이터를 옮길 수 있음
  - 폰 노이만 구조에선 메모리가 유일한 작업 공간
  - 이 메모리 공간에 여러 응용 프로세스들을 올려놓고 실행해야 하므로 관리가 복잡해졌음.
- 메모리 관리의 이중성
  - 프로세스 입장에서는 메모리를 독차지, 관리자 입장에서는 관리를 효율적으로 하고 싶어함.

### 소스코드의 번역과 실행
- 컴파일러 언어: 프로그래밍 언어를 기계어로 변환, 최적화, 컴파일 에러 등의 컴파일러의 기능 사용 가능
- 인터프리터 언어: 소스코드를 한 행씩 번역하여 실행, 컴파일러 사용이 불가
- 소스코드 -> 컴파일러 -> 목적 코드(기계어) -> 링커 -> 라이브러리 연결 -> 실행, 실행 전까지의 모든 과정을 컴파일이라 부른다.

### 메모리 관리자(Memory Manage Unit, MMU)의 역할
- 가져오기(fetch), 배치(placement), 재배치(replacement)
- Fetch
  - 프로세스와 데이터를 메모리로 가져오는 작업
  - 앞으로 실행될 것으로 예상되는 데이터를 미리 가져오기도 함
- Placement
  - 가져온 프로세스와 데이터를 메모리의 어느 부분에 올려놓을지 결정
  - 메모리를 어떤 크기로 자를 것인지를 결정
- Replacement
  - 새로운 프로세스를 가져와야 하는데 메모리가 꽉 찼다면 메모리에 있는 프로세스를 하드 디스크로 옮김

### 32bit CPU와 64bit CPU 차이
- 32 bit CPU는 32bit로 메모리 주소 공간 표현, 최대 4GB의 메모리 공간 사용 가능
- 64 bit CPU는 거의 무한대에 가까운 메모리 공간 사용 가능
- 사용자 입장에서 바라본 주소공간은 논리 주소 공간, 실제 컴퓨터에 메모리가 설치되어 사용 가능한 주소 공간을 물리 주소 공간이라 한다.

### 절대 주소와 상대 주소
- 메모리 영역은 운영체제 영역과 사용자 영역으로 구분
- 그 경계값은 CPU 내부의 경계 레지스터에서 관리
- 절대 주소: 운영체제 영역을 포함해서 메모리가 어디에 적재되어 있는 지를 나타내는 실제 주소값
- 상대 주소: 운영체제 영역을 제외하고 사용자 영역이 시작되는 주소 값을 기준으로 메모리 주소를 표현, 사용자 프로세스 입장에서 바라본 주소값
- 상대 주소 사용사에는 재배치 레지스터라는 것을 사용해서 절대 주소로 변환하는 과정이 필요

### 단일 프로그래밍 환경에서의 메모리 할당 - 메모리 오버레이
- 메모리보다 큰 프로세스를 실행시켜야 할 경우 이를 적당히 잘라서 올려놓을 수 있으며, 이 때 사용되는 기법이 오버레이이다.
- 전체 프로그램을 모듈로 나누고, 필요할 때마다 메모리에 올려서 사용
- 가상 메모리 시스템의 기본이 되는 개념
- 프로그램의 일부만 메모리에 올라와도 실행이 가능

### 스왑
- 다른 프로세스를 처리해야하는데 메모리 공간이 꽉 찼다면 기존의 프로세스를 디스크 공간으로 옮기며, 이를 스왑이라 한다.

### 다중 프로그래밍 환경에서의 메모리 할당 - 메모리 분할
- 가변 분할: 관리 측면에서 불편, 프로세스 입장에서는 편리
- 정적 분할: 관리 측면에서 편리, 프로세스 입장에서는 불편

### 가변 분할 방식
- External Fragmentation
  - 메모리에 빈 공간이 있어도 서로 떨어져 있으면 프로세스를 배정하지 못하는 문제
  - 작은 조각들로 인해 발생하는 현상이라 하여 파편화(Fragmentation)이라 부른다.
- 메모리 배치 방식
  - 최소 배치: 처음으로 발견한 빈 공간에 배치
  - 최적 배치: 전체 공간 확인 후 가능한 가장 작은 공간에 배치
  - 최악 배치: 최적의 반대, 가능한 가장 큰 공간에 배치
- 조각 모음
  - 어느 배치 방식을 택해도 외부 단편화가 일어날 수 밖에 없음. 
### 고정 분할 방식
- 페이징이라고도 부른다.
- Internal Fragmentation
  - 공간을 효율적으로 관리, 현대 메모리 관리 시스템의 기본
  - 나뉜 메모리 블럭 크기 보다 작은 프로세스가 배치될 경우 낭비되는 공간 발생
  - 메모리 블럭 내에 남는 공간이 생기는 현상을 내부 단편화라고 부른다.

### 버디 시스템
- 가변 분할 방식의 단점인 외부 단편화를 완화시키는 방법
- 프로세스 크기에 맞추어 메모리를 1/2씩 잘라서 배치
- 나뉜 메모리 구역에는 1개의 프로세스만 배치
- 프로세스 종료시 주변 빈조각을 합쳐서 하나의 큰 덩어리로 만듦

